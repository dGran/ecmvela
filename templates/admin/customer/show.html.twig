{% extends 'base-admin.html.twig' %}

{% block title %}Cliente: {{ customer.name }} | {% endblock %}

{% block main %}
    <header id="header" class="mb-6 md:mb-10 md:flex md:items-start">
        <div class="flex-auto max-w-4xl">
            <div class="flex items-center">
                <p class="mb-2 md:mb-4 text-xs md:text-sm font-semibold text-blue-500">Administración</p>
                <p class="mb-2 md:mb-4 px-1.5 text-xs md:text-sm font-semibold">/</p>
                <a href="{{ path('admin_customer') }}" class="mb-2 md:mb-4 text-xs md:text-sm font-semibold hover:text-blue-500 focus:text-blue-500 focus:outline-none">Clientes</a>
            </div>

            <h1 class="flex-auto text-3xl md:text-4xl font-extrabold text-slate-900 tracking-tight">{{ customer.name }}</h1>
        </div>
    </header>

    <div class="my-8 flex flex-col md:flex-row items-start md:space-x-8">
        <div class="flex-1 mt-4 w-full flex flex-col text-sm md:border-r md:pr-8">
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Id</p>
                <p class="flex-1 text-left w-full">{{ customer.id }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Nombre</p>
                <p class="flex-1 text-left w-full">{{ customer.name }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">DNI / NIE</p>
                <p class="flex-1 text-left w-full">{{ customer.identification ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Dirección</p>
                <p class="flex-1 text-left w-full">{{ customer.address ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Código Postal</p>
                <p class="flex-1 text-left w-full">{{ customer.postalCode ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Localidad</p>
                <p class="flex-1 text-left w-full">{{ customer.location ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Provincia</p>
                <p class="flex-1 text-left w-full">{{ customer.province ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Teléfono</p>
                <p class="flex-1 text-left w-full">{{ customer.phone ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Teléfono 2</p>
                <p class="flex-1 text-left w-full">{{ customer.phone2 ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Teléfono 3</p>
                <p class="flex-1 text-left w-full">{{ customer.phone3 ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 border-b space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">E-Mail</p>
                <p class="flex-1 text-left w-full text-ellipsis overflow-hidden">{{ customer.email ?? '-' }}</p>
            </div>
            <div class="flex items-start justify-between px-1.5 py-2.5 space-x-4 hover:bg-slate-50">
                <p class="flex-1 font-medium text-right md:text-left w-full">Observaciones</p>
                <p class="flex-1 text-left w-full">
                    {% if customer.notes %}
                        <textarea readonly class="w-full focus:outline-none" rows="3">{{ customer.notes }}</textarea>
                    {% else %}
                        -
                    {% endif %}
                </p>
            </div>
        </div>
        <div class="my-8 w-full md:w-1/4 mx-auto lg:mx-0 lg:w-28 flex flex-row md:flex-col space-x-2 justify-between md:justify-start md:space-x-0 md:space-y-2 border-t pt-4 md:border-t-0 md:pt-0">
            <a href="{% if path_index %}{{ path_index }}{% else %}{{ path('admin_customer') }}{% endif %}" class="w-28 px-3 py-1.5 bg-white border rounded font-medium text-xs leading-tight uppercase rounded hover:bg-slate-50 hover:shadow focus:bg-slate-50 focus:shadow focus:outline-none focus:ring-0 active:bg-slate-100 active:shadow transition duration-150 ease-in-out | flex items-center space-x-1.5">
                <i class="fa-solid fa-chevron-left text-sm w-4 text-center"></i>
                <span>atrás</span>
            </a>
            <div class="flex md:flex-col items-center md:items-start justify-end md:justify-start space-x-2 md:space-x-0 md:space-y-2">
                <form method="post" action="{{ path('admin_customer_edit', {'id': customer.id}) }}" class="w-28">
                    <input type="hidden" name="pathIndex" value="{{ path_index }}">
                    <input type="hidden" name="pathFrom" value="show">
                    <button type="submit" class="w-full px-3 py-1.5 bg-white border rounded font-medium text-xs leading-tight uppercase rounded hover:bg-slate-50 hover:shadow focus:bg-slate-50 focus:shadow focus:outline-none focus:ring-0 active:bg-slate-100 active:shadow transition duration-150 ease-in-out | flex items-center space-x-1.5">
                        <i class="fa-solid fa-pen-to-square text-sm w-4 text-center"></i>
                        <span>Editar</span>
                    </button>
                </form>
                <form method="post" action="{{ path('admin_customer_delete', {'id': customer.id}) }}" class="w-28">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete-' ~ customer.id) }}">
                    <input type="hidden" name="pathIndex" value="{{ path_index }}">
                    <button type="submit" data-name="{{ customer.name }}"
                            class="delete-action-button | w-full text-left px-3 py-1.5 bg-red-500 text-white font-medium text-xs leading-tight uppercase rounded hover:bg-red-600 hover:shadow focus:bg-red-600 focus:shadow focus:outline-none focus:ring-0 active:bg-red-700 active:shadow transition duration-150 ease-in-out | flex items-center space-x-1.5">
                        <i class="fa-solid fa-trash text-sm w-4 text-center"></i>
                        <span>Eliminar</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script src="{{ asset('build/app/js/admin/customer/delete-confirmation.js') }}"></script>
{% endblock %}